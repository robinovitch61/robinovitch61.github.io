<!doctype html>
<html lang="en">    
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="theme-color" content="#000000">
        
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
        <link rel="stylesheet" href="/assets/css/styles.css">
        <link rel="stylesheet" href="/assets/css/prism.css"/>

        <link rel="icon" href="/assets/images/favicon.png" type="image/x-icon">

        <title>Jupyter With Docker</title>
    </head>
    
    <body>
        <div class="flexwrap">
            <div class="contentwrap">
                <div class="custom-nav">
    <h1 class="h1-text">I am Leo</h1>
    <ul class="nav-buttons">
        <a href="/" >Home</a>
    </ul>
</div>

                <h1 class="h2-text">jupyter with docker</h1>

<div class="log-text">
    Nothing sucks more than banging your head against a wall trying to get a development environment set up on your computer. You have this idea, you want to start coding it up and experimenting, but you get stuck. Either you can't set up your environment due to some conflicting software, or you've forgotten how you set up your old machine so that this function you're now reusing worked on it, or something else that feels like it should be trivial is tripping you up.

<br></br>
I love <a href="https://www.docker.com">docker</a>. It makes environments
<ul>
    <li>portable across any machine</li>
    <li>subject to version control (retraceable history)</li>
    <li>easily deployed and discarded with simple commands</li>
</ul>


<p class="h4-text">Note: RE portability: your machine has to run docker. <i>Sorry Windows 7.</i></p>

Jupyter is a great tool that allows for the creation of these pretty documents consisting of sequential code chunks with inline output. It is a fantastic way to get started with programming, explain your workflow, and even create stories and presentations out of your work. It runs in the browser after you install it on your machine (i.e. you access it with a URL in your web browser).

<br></br>
This walkthrough will use get you set up with a jupyter lab (or jupyter notebooks classic) instance that is fully customizable, isolated, version controllable and portable using docker.

<br></br>
If you don't want to use docker, you can always <a href="https://jupyter.org/install">install jupyter the classic way</a>. I like docker for the reasons outlined above (isolation, portability, version controllable, easily deployed/discarded).

<h2 class="h2-text">1: Install Docker</h2>
Note that this is probably the hardest part of the tutorial if you've never installed docker before. You'll have to open up a terminal/command prompt and follow the commands below:
<ul>
    <li><a href="https://docs.docker.com/docker-for-mac/install/">Install docker for Mac</a></li>
    <li><a href="https://docs.docker.com/install/linux/docker-ce/ubuntu/">Install docker for Ubuntu</a></li>
    <li><a href="https://docs.docker.com/docker-for-windows/install/">Install docker for Windows 10</a></li>
</ul>

<h2 class="h2-text">2: Clone the Repo</h2>
You'll need git for this step, which you can <a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git">install here</a> if you don't already have it. What you'll clone is my fork of <a href="https://github.com/jupyter/docker-stacks">Project Jupyter's docker-stacks</a>. It is essentially the same as the original except for a few additional files, which we'll go over individually. Run the following command in terminal/command prompt:

<pre><code class="language-bash"># in the desired directory, e.g. ~/projects 
git clone https://github.com/robinovitch61/docker-stacks
</code></pre>

<br>
<i>Quick note:</i> docker uses the language of images (<i>recipes for containers</i>) and containers (<i>instances of images</i>). In this specific case, things like <code>jupyter/minimal-notebook</code> and <code>jupyter/pyspark-notebook</code> are <b>images</b> while our container will likely be called <code>juptyer</code> regardless of the image.

<br></br>
This directory we just cloned contains a lot of stuff. We're going to look at just a few bits of a few important files. First, the <code>Dockerfile</code> in the "base-notebook" directory:

<pre><code class="language-bash">############################################
## docker-stacks/base-notebook/Dockerfile ##
############################################

# Copyright (c) Jupyter Development Team.
# Distributed under the terms of the Modified BSD License.

# Ubuntu 18.04 (bionic) from 2019-06-12
# https://github.com/tianon/docker-brew-ubuntu-core/commit/3c462555392cb188830b7c91e29311b5fad90cfe
ARG BASE_CONTAINER=ubuntu:bionic-20190612@sha256:9b1702dcfe32c873a770a32cfd306dd7fc1c4fd134adfb783db68defc8894b3c
FROM $BASE_CONTAINER

LABEL maintainer="Jupyter Project"
ARG NB_USER="jovyan"
ARG NB_UID="1000"
ARG NB_GID="100"
# ...
</code></pre>

This specifies the container (i.e. isolated environment that jupyter will run in) will derive from a Linux Ubuntu "bionic" OS (<code>BASE_CONTAINER=ubuntu:bionic...</code>).

<br></br>
If you examine the <code>Dockerfile</code>s for other directories, you'll see there's a chain of derivations that end in the base-notebook:

<pre><code class="language-bash"># minimal-notebook:
ARG BASE_CONTAINER=jupyter/base-notebook

# scipy-notebook:
ARG BASE_CONTAINER=jupyter/minimal-notebook

# datascience-notebook:
ARG BASE_CONTAINER=jupyter/scipy-notebook

# pyspark-notebook:
ARG BASE_CONTAINER=jupyter/scipy-notebook
</code></pre>

The docker-stacks team has structured the project so you can specify how complicated of a setup you want out of the box. The <code>jupyter/minimal-notebook</code> image will contain the simplest stuff you need for jupyter to run whereas the <code>jupyter/pyspark-notebook</code> image will come with everything from <code>scipy</code> to a spark installation in the jupyter container (likely overkill for most folks starting out!). If you specify a "complicated" image, e.g. pyspark-notebook, it will include everything in the inheritance tree (scipy-notebook, minimal-notebook, and base-notebook) plus the stuff specified in the pyspark-notebook <code>Dockerfile</code>.

<pre><code class="language-bash">############################################
## docker-stacks/docker-compose.yml ##
############################################
version: '3'

services:

  jupyter:
    container_name: jupyter
    image: jupyter/pyspark-notebook:1386e2046833 # check for updates here: https://hub.docker.com/r/jupyter/pyspark-notebook/tags. Controls spark version.
    volumes:
      - ~/:/home/jovyan/work/
      - ./setup_envs.sh:/usr/local/bin/before-notebook.d/setup_envs.sh
    ports:
      - 9999:9999
    restart: unless-stopped
    environment:
      JUPYTER_ENABLE_LAB: 'yes'
    command: >
      sh -c "bash start-notebook.sh\
                 --NotebookApp.token=$JUPYTER_PASSWORD\
                 --NotebookApp.notebook_dir=/home/jovyan/work/\
                 --port 9999"
</code></pre>

LEO CONTINUE HERE

<h2 class="h2-text">3: Create the Container Running Jupyter</h2>




It is day 3 at the Recurse Center (RC)!

<figure class="inline-img">
    <img src="/assets/images/me-rust-haskell.gif" alt="Me using Rust/Haskell">
    <figcaption class="figcaption-text">Me experimenting with Haskell and Rust</figcaption>
</figure>

It has been a whirlwind of orientation, meeting awesome people, learning about (and about the existence of) new cool things, set up, and settling in.

<br></br>
This was my second day here:
<div class="list-text">
    <br><i>8-9am: </i>Research blogging tools to create this very website. Decide on Jekyll + github pages + namecheap domain as a good solution</br>
    <br><i>9-10am: </i>Update MacOS to Mojave after experiencing ruby-related jekyll issues</br>
    <br><i>10-11am: </i>Using <a href="https://jekyllrb.com/docs/step-by-step/01-setup/">this great tutorial</a>, get <code>jekyll</code> and <code>bundler</code> installed. Get <code>jekyll serve</code> working and start developing this blog</br>
    <br><i>11-12pm: </i>Pair programming workshop! Create a version of <a href="https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life">Conway's Game of Life</a> in python. <a href="https://gist.github.com/robinovitch61/8a094c15f8cc28ec9218a1baf6b211c6#file-game_of_life-py">Gist here.</a></br>
    <br><i>12-12:15pm: </i>Discuss wind speed measurements using an arduino with someone working on an auto-steering sailboat. Yay mech eng knowledge!</br>
    <br><i>12:15-1pm: </i>Lunch chat with someone, discuss what Rust is and why people are excited about it (memory and type safety)</br>
    <br><i>1-2pm: </i>Participated in an "Intro to Haskell" workshop. No loops, variables don't vary, unclear code execution order...what is this language??</br>
    <br><i>2-3pm: </i>Continue site development</br>
    <br><i>3-4pm: </i>Category theory discussion group. First foray into theoretical math in a long time. Approachable intro by the few folks with deeper knowledge on the topic</br>
    <br><i>4-5:30pm: </i>Further introductory Haskell chat, help solidify some core concepts intro'd earlier</br>
    <br><i>5:30-6:30pm: </i>Non-technical presentations (7 mins max) - folks did them on cross stitching, rube goldberg machine demo, cats, contact juggling, architecture, and the origin of the English language</br>
</div>

<br></br>
It's everything I had hoped for and more.

<br></br>
The space is incredible, with tons of work stations, a large library, 5 or 6 super vintage but functioning computers to play with, breakout rooms, an LED project you can control via your computer, a nap space, and clean and functional kitchen/lunch area.

<br></br>
My goals here are (in no particular order):
<ul class="list-text">
    <li>Gain a stronger foundation in computer science theory (algorithms, data structures, complexity management, etc.)</li>
    <li>Continue to build on my statistics and probability knowledge, likely with some forays in to AI projects</li>
    <li>Learn of more "unknown unkowns" - concepts that I didn't know existed but are incredibly interesting and/or useful</li>
    <li>Reshape my assumptions about education and what the learning process looks like</li>
    <li>Become a much more effective programmer so I can kick ass at my next role</li>
</ul>

<br>
Some pitfalls I'd like to avoid:
<ul class="list-text">
    <li>Have my time dominated by learning tools rather than understanding concepts and theory. Learning a tool (e.g. a new programming language, framework, library, etc.) can be done when it's time to implement conceptually complete visions</li>
    <li>Stretch myself too thin by trying to learn everything and then feeling like I'm not really learning anything</li>
    <li>Get sucked in by "the hype" around a language or domain without properly evaluating whether or not it is the best way to spend my time at my current stage of development</li>
    <li>Lose steam by pushing too hard, feeling like I'm not succeeding, or failing to achieve my incremental goals</li>
</ul>

<br>
I'm so excited! Pitter patter...
<br></br>
<br></br>

</div>
            </div>
        </div>

        <script src="/assets/js/prism.js"></script>
    </body>
    
</html>
