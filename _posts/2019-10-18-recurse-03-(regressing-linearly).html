---
layout: post
title: Recurse 03 (regressing linearly)
---
<div class="post">
<p>This week, I completed project 4 of Nand2Tetris, updated my resume and converted it to <a href="/resume.html">a responsive web page</a>, and learned a <a href="/2019/10/18/linear-regression-theory.html">whole lot about linear regression</a>.

<p>Nand2Tetris project 4 breaks away from the Hardware Description Language of the first three projects and moves in to a pseudo assembly code. This assembly language is specifically written for the "Hack" computer that the class builds up through the first six projects. Writing in "assembly" is one step down from writing in something like C - there is no automatic memory management, only a couple registers to play with, lots of referencing addresses with pointers and semi-roundabout ways of doing things.</p>

<p>It is super cool to see how assembly actually translates directly to binary to operate at the hardware level. I've included my solution to "making a screen black if a key is pushed and white if no key is pushed" at the bottom of this post. I'm looking forward to finishing the Hack computer and the first half of the course (!) over the next couple weeks.</p>

<figure>
    <img src="/assets/images/project4.gif" alt="nand2tetris project 4 gif">
    <figcaption class="figcaption-text">Assembly code causing creen to go black when key is pushed</figcaption>
</figure>

<p>The resume update was necessary and a fun application of my responsive web dev Scrimba course. I'm continuing to slowly work through that and have found it very clear and satisfying. Fall 1'ers are ramping up their interview frequencies and proportion of time dedicated towards the job hunt. It makes me nervous and excited for the last month of my time at Recurse where I'll probably be doing the same.</p>

<p>After last week's frustration with the statistics textbook, I decided to slow down and zoom in on linear regression. While it's an "introductory" modeling technique in practice, I've never fully understood the underpinings of it! I'm realizing you truly can't understand the foundation of linear regression without understanding a TON of foundational statistics. Additionally, many models can be seen as direct or indirect extensions of linear regression, making it a good thing to start with. It has been a very good exercise to go through everything thoroughly and summarize it in a <a href="/2019/10/18/linear-regression-theory.html">big ol' plog bost</a>, which I will continue to update as I delve deeper into the topic.</p>

<p>I hope to write more actual code next week and keep the learning rolling.</p>

<pre><code class="language-bash">// This file is part of www.nand2tetris.org
// and the book "The Elements of Computing Systems"
// by Nisan and Schocken, MIT Press.
// File name: projects/04/Fill.asm

// Runs an infinite loop that listens to the keyboard input.
// When a key is pressed (any key), the program blackens the screen,
// i.e. writes "black" in every pixel;
// the screen should remain fully black as long as the key is pressed. 
// When no key is pressed, the program clears the screen, i.e. writes
// "white" in every pixel;
// the screen should remain fully clear as long as no key is pressed.

// Put your code here.

// *********
// VARIABLES
// *********

@512
D=A
@bitswidth
M=D // screen width in bits

@255
D=A
@bitsheight
M=D // screen height in bits

@16
D=A
@bitsperword
M=D // word width in bits

// words per screen, i.e. 512*255/16
@totalwords
M=0
@heightcovered
M=0
(MOREROWS)
@widthcovered
M=0
(MOREWORDS)
    // increment totalwords, widthcovered
    @totalwords
    M=M+1
    @bitsperword
    D=M
    @widthcovered
    M=M+D

    // if not entire width covered, MORE WORDS
    @widthcovered
    D=M
    @bitswidth
    D=M-D
    @MOREWORDS
    D;JGT

// increment heightcovered
@heightcovered
M=M+1

// if note entire height covered, MORE ROWS
@heightcovered
D=M
@bitsheight
D=M-D
@MOREROWS
D;JGT

// address of end of screen
@SCREEN
D=A
@totalwords
D=D+M
@scrend
M=D

@iswhite
M=1 // if >0, screen white. if 0, screen black. 

// *****
// LOOPS
// *****

(KEYUP)
// if current keyboard value non-zero, jump to KEYDOWN
@KBD
D=M
@KEYDOWN
D;JNE

// if black, paint white
@iswhite
D=M
@MAKEWHITE
D;JEQ

// keep listening
@KEYUP
0;JMP

(KEYDOWN)
// if current keyboard value zero, jump to KEYUP
@KBD
D=M
@KEYUP
D;JEQ

// if white, paint black
@iswhite
D=M
@MAKEBLACK
D;JGT

// keep listening
@KEYDOWN
0;JMP

(MAKEWHITE)
@paintword
M=0
@PAINTSCREEN
0;JMP

(PAINTEDWHITE)

// flag screen as white
@iswhite
M=1

// go back to keyup loop
@KEYUP
0;JMP

(MAKEBLACK)
@paintword
M=-1
@PAINTSCREEN
0;JMP

(PAINTEDBLACK)

// flag screen as black
@iswhite
M=0

// go back to keydown loop
@KEYDOWN
0;JMP

(PAINTSCREEN)
// paint screen
@SCREEN
D=A
@scraddr
M=D
(KEEPPAINTING)
    // paint at scraddr
    @paintword
    D=M
    @scraddr
    A=M
    M=D

    // increment scraddr
    @scraddr
    M=M+1

    @scrend
    D=M
    @scraddr
    D=D-M // positive until scraddr=scrend
    @KEEPPAINTING
    D;JGT

// jump back
@paintword
D=M
@PAINTEDWHITE
D;JEQ // if paintword is 0, painted white
@PAINTEDBLACK
0;JMP
</code></pre>

<!-- <p><a href="https://d3js.org/">D3.js</a> is a widely used javascript library for creating beautiful, interactive visualizations on the web. I made quite a simple interactive sine wave plotter, but the exercise took hours and really helped me gain insight in to D3's declarative approach to data-centric object manipulation. Code for the thing <a href="https://gist.githubusercontent.com/robinovitch61/5b61f550b3b0cd279c6e8a3679a9623e/raw/d8dfa4ee588339bae1ae60d0f0e60be68f4d3ba6/d3_sine_wave.html">here</a>. Play with it <a href="https://jsfiddle.net/robinovitch61/3nwjzkdx/">here</a>.</p>

<figure>
    <img src="/assets/images/d3-sine.gif" alt="d3 sine wave gif">
    <figcaption class="figcaption-text">D3 Makin Waves</figcaption>
</figure>

<p>R is a tool for statistical computing and visualization. It is often used in research and many awesome data scientists work in both python or R depending on the application. Much like python, there have been a huge number of tools and packages built for and on top of R (matplotlib = ggplot2, Plotly's Dash = Rstudio's Shiny, Jupyter Notebooks = R Markdown, etc.)</p>

<p>I was hesitant on learning R because so much of the language has a python analog and I'm already proficient in python. After some conversation and reflection though, it does seem like a good thing to learn. The language of R is geared explicitly towards statistics. As a basic example, here is how to get 100 samples from a normal distribution with zero mean and unity variance in each language:</p>

<pre><code class="language-python"># python
import numpy as np # could also use a scipy function
np.random.normal(loc=0, scale=1, size=100)</code></pre>

<pre><code class="language-r"># R
rnorm(n=100, mean=0, sd=1)</code></pre>

<p>It's not just that it's 2 lines of code versus 1. It's that <code>rnorm</code> is built in to the standard library in R whereas in python you have to import a package like <code>numpy</code> or <code>scipy</code>. I use these packages so much in python that I sometimes forget they're not in the standard library! This reinforces the premise that <i>python is the second best language for everything</i>. R should help me think statistically as it is a language primarily written for statistical thinking.</p>

<figure>
    <img src="/assets/images/r-bane.png" alt="R is like Bane">
    <figcaption class="figcaption-text">In response to PythonMan</figcaption>
</figure>

<p>I was alternatingly enthralled by and so frustrated with the textbook <a href="http://faculty.marshall.usc.edu/gareth-james/ISL/">An Introduction to Statistical Learning</a> this week. The second chapter is so methodical in describing intuition for general model fitting, the bias-variance tradeoff, what model flexibility implies - all these great fundamental concepts! Then the third chapter seems to try to summarize all of mankind's theory on linear regression in 60 quite dense, sometimes incomprehensible pages...enter the frustration.</p>

<p>In our Machine Learning meetup group, the group was split on the textbook. I've come to the conclusion that I'll just have to take it slower and reference outside resources when required. Two chapters/week is way too ambitious. I'll take the R exercises seriously and try to do derivations and note taking myself as required.</p>

<p>The way I'm seeing things is the interactive data viz/web dev stuff is fun and lighter, the stats fundamentals is hard and necessary, and Nand2Tetris is perfectly balanced between the two. There's definitely the ongoing struggle with wanting to learn more, faster, but someone referenced Plato in their technical presentation this week and it was quite helpful:</p>

<p><i>Never discourage anyone who continually makes progress, no matter how slow... even if that someone is yourself!</i></p>

<p>Onward!</p> -->
