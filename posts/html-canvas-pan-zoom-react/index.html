<!DOCTYPE html>
<html lang="en">  
  <head>
    <meta charset="utf-8">
    <title>
react html5 zoom/pan canvas
</title>
    <link rel="icon" href="/img/favicon.png" type="image/x-icon">
    
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <link rel="stylesheet" href="https://robinovitch61.github.io/sass/main.min.4499f429c2eec8e0db0527551275bce6067ad5ea295ed5cc754bbf39e4fb4a83.css">

    

<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$','$$'], ['\\[', '\\]']],
      processEscapes: true,
      processEnvironments: true
    },
    options: {
      skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
    }
  };

  window.addEventListener('load', (event) => {
      document.querySelectorAll("mjx-container").forEach(function(x){
        x.parentElement.classList += 'has-jax'})
  });
</script>

<script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  </head>

  <body>
    <header>
  <div class="container">
    <div class="nav-container">
      <div class="nav-left">
        <a class="btn-text" href="/"><h1>Leo</h1></a>
      </div>

      <div class="dropdown">
        <input class="hamburger menu-btn" type="checkbox" id="menu-btn" />
        <label class="hamburger menu-icon" for="menu-btn">
          <span class="navicon-top"></span>
          <span class="navicon-mid"></span>
          <span class="navicon-bottom"></span>
        </label>
        <div class="menu">
          <a class="menu-item" href="/">Home</a>
          <a class="menu-item" href="/about">About</a>
          <a class="menu-item" href="https://github.com/robinovitch61" target="_blank">
            <img class="social-media-thumbnail" src="/img/github.png" alt="github" title="github" />
          </a>
        </div>
      </div>
    </div>
  </div>
</header>

    
    <div class="top-title">
      <div class="container">
        <h2>react html5 zoom/pan canvas</h2>
      </div>
    </div>

    <div class="post-date">
      <div class="container">
        <p>
May 02, 2021 &ndash; Leo Robinovitch
</p>
      </div>
    </div>

    <div class="container">
      
<div class="post">
  <p>A pannable, mouse-centered zoomable, HTML5 canvas template in React + Typescript. You&rsquo;d think this would be a solved problem, but despite the plethora of solutions out there, I couldn&rsquo;t get quite what I wanted for some time. Finally, here it all is in one place for future me and others to use as boilerplate for their embedded interactive canvases in their apps.</p>
<p>If you see any bugs or possible improvements, please comment on the gist here:</p>
<p><a href="https://gist.github.com/robinovitch61/483190546bf8f0617d2cd510f3b4b86d">https://gist.github.com/robinovitch61/483190546bf8f0617d2cd510f3b4b86d</a></p>
<iframe
    src="https://codesandbox.io/embed/react-typescript-zoom-pan-html-canvas-p3itj?fontsize=14&hidenavigation=1&theme=dark"
    style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;"
    title="React  Typescript Zoom Pan HTML Canvas"
    allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
    sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
></iframe>
<div class="highlight"><div style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 53
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 54
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 55
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 56
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 57
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 58
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 59
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 60
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 61
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 62
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 63
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 64
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 65
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 66
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 67
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 68
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 69
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 70
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 71
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 72
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 73
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 74
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 75
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 76
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 77
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 78
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 79
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 80
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 81
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 82
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 83
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 84
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 85
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 86
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 87
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 88
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 89
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 90
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 91
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 92
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 93
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 94
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 95
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 96
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 97
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 98
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 99
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">100
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">101
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">102
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">103
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">104
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">105
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">106
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">107
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">108
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">109
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">110
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">111
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">112
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">113
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">114
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">115
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">116
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">117
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">118
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">119
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">120
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">121
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">122
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">123
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">124
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">125
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">126
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">127
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">128
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">129
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">130
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">131
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">132
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">133
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">134
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">135
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">136
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">137
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">138
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">139
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">140
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">141
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">142
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">143
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">144
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">145
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">146
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">147
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">148
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">149
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">150
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">151
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">152
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">153
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">154
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">155
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">156
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">157
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">158
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">159
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">160
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">161
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">162
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">163
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">164
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">165
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">166
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">167
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">168
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">169
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">170
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">171
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">172
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">173
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">174
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">175
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">176
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">177
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">178
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">179
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">180
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">181
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">182
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">183
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">184
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">185
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">186
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">187
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">188
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">189
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">190
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">191
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">192
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">193
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">194
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">195
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">196
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">197
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">198
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">199
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">200
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">201
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">202
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">203
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">204
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">205
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">206
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">207
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">208
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">209
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">210
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">211
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">212
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">213
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">214
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">215
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">216
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">217
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">218
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">219
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">220
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">221
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">222
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">223
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">224
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">225
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">226
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">227
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">228
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">229
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">230
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">231
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">232
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">233
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">234
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">235
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">236
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">237
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">238
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">239
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">240
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">241
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-typescript" data-lang="typescript"><span style="color:#408080;font-style:italic">// sandbox here: https://codesandbox.io/s/p3itj?file=/src/Canvas.tsx:0-6785
</span><span style="color:#408080;font-style:italic">// gist for comments here: https://gist.github.com/robinovitch61/483190546bf8f0617d2cd510f3b4b86d
</span><span style="color:#408080;font-style:italic"></span>
<span style="color:#008000;font-weight:bold">import</span> {
  useEffect,
  useCallback,
  useLayoutEffect,
  useRef,
  useState
} <span style="color:#008000;font-weight:bold">from</span> <span style="color:#ba2121">&#34;react&#34;</span>;
<span style="color:#008000;font-weight:bold">import</span> <span style="color:#666">*</span> <span style="color:#008000;font-weight:bold">as</span> React <span style="color:#008000;font-weight:bold">from</span> <span style="color:#ba2121">&#34;react&#34;</span>;

<span style="color:#008000;font-weight:bold">type</span> CanvasProps <span style="color:#666">=</span> {
  canvasWidth: <span style="color:#b00040">number</span>;
  canvasHeight: <span style="color:#b00040">number</span>;
};

<span style="color:#008000;font-weight:bold">type</span> Point <span style="color:#666">=</span> {
  x: <span style="color:#b00040">number</span>;
  y: <span style="color:#b00040">number</span>;
};

<span style="color:#008000;font-weight:bold">const</span> ORIGIN <span style="color:#666">=</span> <span style="color:#008000">Object</span>.freeze({ x: <span style="color:#b00040">0</span>, y: <span style="color:#b00040">0</span> });

<span style="color:#008000;font-weight:bold">function</span> diffPoints(p1: <span style="color:#b00040">Point</span>, p2: <span style="color:#b00040">Point</span>) {
  <span style="color:#008000;font-weight:bold">return</span> { x: <span style="color:#b00040">p1.x</span> <span style="color:#666">-</span> p2.x, y: <span style="color:#b00040">p1.y</span> <span style="color:#666">-</span> p2.y };
}

<span style="color:#008000;font-weight:bold">function</span> addPoints(p1: <span style="color:#b00040">Point</span>, p2: <span style="color:#b00040">Point</span>) {
  <span style="color:#008000;font-weight:bold">return</span> { x: <span style="color:#b00040">p1.x</span> <span style="color:#666">+</span> p2.x, y: <span style="color:#b00040">p1.y</span> <span style="color:#666">+</span> p2.y };
}

<span style="color:#008000;font-weight:bold">function</span> scalePoint(p1: <span style="color:#b00040">Point</span>, scale: <span style="color:#b00040">number</span>) {
  <span style="color:#008000;font-weight:bold">return</span> { x: <span style="color:#b00040">p1.x</span> <span style="color:#666">/</span> scale, y: <span style="color:#b00040">p1.y</span> <span style="color:#666">/</span> scale };
}

<span style="color:#008000;font-weight:bold">const</span> ZOOM_SENSITIVITY <span style="color:#666">=</span> <span style="color:#666">500</span>; <span style="color:#408080;font-style:italic">// bigger for lower zoom per scroll
</span><span style="color:#408080;font-style:italic"></span>
<span style="color:#008000;font-weight:bold">export</span> <span style="color:#008000;font-weight:bold">default</span> <span style="color:#008000;font-weight:bold">function</span> Canvas(props: <span style="color:#b00040">CanvasProps</span>) {
  <span style="color:#008000;font-weight:bold">const</span> canvasRef <span style="color:#666">=</span> useRef&lt;<span style="color:#008000;font-weight:bold">HTMLCanvasElement</span>&gt;(<span style="color:#008000;font-weight:bold">null</span>);
  <span style="color:#008000;font-weight:bold">const</span> [context, setContext] <span style="color:#666">=</span> useState&lt;<span style="color:#008000;font-weight:bold">CanvasRenderingContext2D</span> <span style="">|</span> <span style="color:#7d9029">null</span>&gt;(<span style="color:#008000;font-weight:bold">null</span>);
  <span style="color:#008000;font-weight:bold">const</span> [scale, setScale] <span style="color:#666">=</span> useState&lt;<span style="color:#008000;font-weight:bold">number</span>&gt;(<span style="color:#666">1</span>);
  <span style="color:#008000;font-weight:bold">const</span> [offset, setOffset] <span style="color:#666">=</span> useState&lt;<span style="color:#008000;font-weight:bold">Point</span>&gt;(ORIGIN);
  <span style="color:#008000;font-weight:bold">const</span> [mousePos, setMousePos] <span style="color:#666">=</span> useState&lt;<span style="color:#008000;font-weight:bold">Point</span>&gt;(ORIGIN);
  <span style="color:#008000;font-weight:bold">const</span> [isReset, setIsReset] <span style="color:#666">=</span> useState(<span style="color:#008000;font-weight:bold">false</span>);
  <span style="color:#008000;font-weight:bold">const</span> viewportTopLeftRef <span style="color:#666">=</span> useRef&lt;<span style="color:#008000;font-weight:bold">Point</span>&gt;(ORIGIN);
  <span style="color:#008000;font-weight:bold">const</span> lastMousePosRef <span style="color:#666">=</span> useRef&lt;<span style="color:#008000;font-weight:bold">Point</span>&gt;(ORIGIN);
  <span style="color:#008000;font-weight:bold">const</span> lastOffsetRef <span style="color:#666">=</span> useRef&lt;<span style="color:#008000;font-weight:bold">Point</span>&gt;(ORIGIN);

  <span style="color:#408080;font-style:italic">// reset at start and on button click
</span><span style="color:#408080;font-style:italic"></span>  <span style="color:#008000;font-weight:bold">const</span> reset <span style="color:#666">=</span> useCallback(() <span style="color:#666">=&gt;</span> {
    <span style="color:#008000;font-weight:bold">if</span> (canvasRef.current) {
      <span style="color:#408080;font-style:italic">// get new drawing context
</span><span style="color:#408080;font-style:italic"></span>      <span style="color:#008000;font-weight:bold">const</span> renderCtx <span style="color:#666">=</span> canvasRef.current.getContext(<span style="color:#ba2121">&#34;2d&#34;</span>);

      <span style="color:#008000;font-weight:bold">if</span> (renderCtx <span style="color:#666">&amp;&amp;</span> <span style="color:#666">!</span>isReset) {
        <span style="color:#408080;font-style:italic">// scale for pixels
</span><span style="color:#408080;font-style:italic"></span>        <span style="color:#008000;font-weight:bold">const</span> { devicePixelRatio: <span style="color:#b00040">ratio</span> <span style="color:#666">=</span> <span style="color:#666">1</span> } <span style="color:#666">=</span> <span style="color:#008000">window</span>;
        renderCtx.canvas.width <span style="color:#666">=</span> props.canvasWidth <span style="color:#666">*</span> ratio;
        renderCtx.canvas.height <span style="color:#666">=</span> props.canvasHeight <span style="color:#666">*</span> ratio;
        renderCtx.scale(ratio, ratio);
        setScale(ratio);

        <span style="color:#408080;font-style:italic">// reset other values
</span><span style="color:#408080;font-style:italic"></span>        setContext(renderCtx);
        setOffset(ORIGIN);
        setMousePos(ORIGIN);
        lastOffsetRef.current <span style="color:#666">=</span> ORIGIN;
        viewportTopLeftRef.current <span style="color:#666">=</span> ORIGIN;
        lastMousePosRef.current <span style="color:#666">=</span> ORIGIN;
        setIsReset(<span style="color:#008000;font-weight:bold">true</span>);
      }
    }
  }, [props.canvasHeight, props.canvasWidth, isReset]);

  <span style="color:#408080;font-style:italic">// functions for panning
</span><span style="color:#408080;font-style:italic"></span>  <span style="color:#008000;font-weight:bold">const</span> mouseMove <span style="color:#666">=</span> useCallback(
    (event: <span style="color:#b00040">MouseEvent</span>) <span style="color:#666">=&gt;</span> {
      <span style="color:#008000;font-weight:bold">if</span> (context) {
        <span style="color:#008000;font-weight:bold">const</span> lastMousePos <span style="color:#666">=</span> lastMousePosRef.current;
        <span style="color:#008000;font-weight:bold">const</span> currentMousePos <span style="color:#666">=</span> { x: <span style="color:#b00040">event.pageX</span>, y: <span style="color:#b00040">event.pageY</span> }; <span style="color:#408080;font-style:italic">// use document so can pan off element
</span><span style="color:#408080;font-style:italic"></span>        lastMousePosRef.current <span style="color:#666">=</span> currentMousePos;

        <span style="color:#008000;font-weight:bold">const</span> mouseDiff <span style="color:#666">=</span> diffPoints(currentMousePos, lastMousePos);
        setOffset((prevOffset) <span style="color:#666">=&gt;</span> addPoints(prevOffset, mouseDiff));
      }
    },
    [context]
  );

  <span style="color:#008000;font-weight:bold">const</span> mouseUp <span style="color:#666">=</span> useCallback(() <span style="color:#666">=&gt;</span> {
    <span style="color:#008000">document</span>.removeEventListener(<span style="color:#ba2121">&#34;mousemove&#34;</span>, mouseMove);
    <span style="color:#008000">document</span>.removeEventListener(<span style="color:#ba2121">&#34;mouseup&#34;</span>, mouseUp);
  }, [mouseMove]);

  <span style="color:#008000;font-weight:bold">const</span> startPan <span style="color:#666">=</span> useCallback(
    (event: <span style="color:#b00040">React.MouseEvent</span>&lt;<span style="color:#008000;font-weight:bold">HTMLCanvasElement</span><span style="">,</span> <span style="color:#7d9029">MouseEvent</span>&gt;) <span style="color:#666">=&gt;</span> {
      <span style="color:#008000">document</span>.addEventListener(<span style="color:#ba2121">&#34;mousemove&#34;</span>, mouseMove);
      <span style="color:#008000">document</span>.addEventListener(<span style="color:#ba2121">&#34;mouseup&#34;</span>, mouseUp);
      lastMousePosRef.current <span style="color:#666">=</span> { x: <span style="color:#b00040">event.pageX</span>, y: <span style="color:#b00040">event.pageY</span> };
    },
    [mouseMove, mouseUp]
  );

  <span style="color:#408080;font-style:italic">// setup canvas and set context
</span><span style="color:#408080;font-style:italic"></span>  useEffect(() <span style="color:#666">=&gt;</span> {
    reset();
  }, []);

  <span style="color:#408080;font-style:italic">// pan when offset changes
</span><span style="color:#408080;font-style:italic"></span>  useLayoutEffect(() <span style="color:#666">=&gt;</span> {
    <span style="color:#008000;font-weight:bold">if</span> (context <span style="color:#666">&amp;&amp;</span> lastOffsetRef.current) {
      <span style="color:#008000;font-weight:bold">const</span> offsetDiff <span style="color:#666">=</span> scalePoint(
        diffPoints(offset, lastOffsetRef.current),
        scale
      );
      context.translate(offsetDiff.x, offsetDiff.y);
      viewportTopLeftRef.current <span style="color:#666">=</span> diffPoints(
        viewportTopLeftRef.current,
        offsetDiff
      );
      setIsReset(<span style="color:#008000;font-weight:bold">false</span>);
    }
  }, [context, offset, scale]);

  <span style="color:#408080;font-style:italic">// update last offset
</span><span style="color:#408080;font-style:italic"></span>  useEffect(() <span style="color:#666">=&gt;</span> {
    lastOffsetRef.current <span style="color:#666">=</span> offset;
  }, [offset]);

  <span style="color:#408080;font-style:italic">// draw
</span><span style="color:#408080;font-style:italic"></span>  useLayoutEffect(() <span style="color:#666">=&gt;</span> {
    <span style="color:#008000;font-weight:bold">if</span> (context) {
      <span style="color:#008000;font-weight:bold">const</span> squareSize <span style="color:#666">=</span> <span style="color:#666">20</span>;

      <span style="color:#408080;font-style:italic">// clear canvas but maintain transform
</span><span style="color:#408080;font-style:italic"></span>      <span style="color:#008000;font-weight:bold">const</span> storedTransform <span style="color:#666">=</span> context.getTransform();
      context.canvas.width <span style="color:#666">=</span> context.canvas.width;
      context.setTransform(storedTransform);

      context.fillRect(
        props.canvasWidth <span style="color:#666">/</span> <span style="color:#666">2</span> <span style="color:#666">-</span> squareSize <span style="color:#666">/</span> <span style="color:#666">2</span>,
        props.canvasHeight <span style="color:#666">/</span> <span style="color:#666">2</span> <span style="color:#666">-</span> squareSize <span style="color:#666">/</span> <span style="color:#666">2</span>,
        squareSize,
        squareSize
      );
      context.arc(
        viewportTopLeftRef.current.x,
        viewportTopLeftRef.current.y,
        <span style="color:#666">5</span>,
        <span style="color:#666">0</span>,
        <span style="color:#666">2</span> <span style="color:#666">*</span> <span style="color:#008000">Math</span>.PI
      );
      context.fillStyle <span style="color:#666">=</span> <span style="color:#ba2121">&#34;red&#34;</span>;
      context.fill();
    }
  }, [props.canvasWidth, props.canvasHeight, context, isReset, scale, offset]);

  <span style="color:#408080;font-style:italic">// add event listener on canvas for mouse position
</span><span style="color:#408080;font-style:italic"></span>  useEffect(() <span style="color:#666">=&gt;</span> {
    <span style="color:#008000;font-weight:bold">const</span> canvasElem <span style="color:#666">=</span> canvasRef.current;
    <span style="color:#008000;font-weight:bold">if</span> (canvasElem <span style="color:#666">===</span> <span style="color:#008000;font-weight:bold">null</span>) {
      <span style="color:#008000;font-weight:bold">return</span>;
    }

    <span style="color:#008000;font-weight:bold">function</span> handleUpdateMouse(event: <span style="color:#b00040">MouseEvent</span>) {
      event.preventDefault();
      <span style="color:#008000;font-weight:bold">if</span> (canvasRef.current) {
        <span style="color:#008000;font-weight:bold">const</span> viewportMousePos <span style="color:#666">=</span> { x: <span style="color:#b00040">event.clientX</span>, y: <span style="color:#b00040">event.clientY</span> };
        <span style="color:#008000;font-weight:bold">const</span> topLeftCanvasPos <span style="color:#666">=</span> {
          x: <span style="color:#b00040">canvasRef.current.offsetLeft</span>,
          y: <span style="color:#b00040">canvasRef.current.offsetTop</span>
        };
        setMousePos(diffPoints(viewportMousePos, topLeftCanvasPos));
      }
    }

    canvasElem.addEventListener(<span style="color:#ba2121">&#34;mousemove&#34;</span>, handleUpdateMouse);
    canvasElem.addEventListener(<span style="color:#ba2121">&#34;wheel&#34;</span>, handleUpdateMouse);
    <span style="color:#008000;font-weight:bold">return</span> () <span style="color:#666">=&gt;</span> {
      canvasElem.removeEventListener(<span style="color:#ba2121">&#34;mousemove&#34;</span>, handleUpdateMouse);
      canvasElem.removeEventListener(<span style="color:#ba2121">&#34;wheel&#34;</span>, handleUpdateMouse);
    };
  }, []);

  <span style="color:#408080;font-style:italic">// add event listener on canvas for zoom
</span><span style="color:#408080;font-style:italic"></span>  useEffect(() <span style="color:#666">=&gt;</span> {
    <span style="color:#008000;font-weight:bold">const</span> canvasElem <span style="color:#666">=</span> canvasRef.current;
    <span style="color:#008000;font-weight:bold">if</span> (canvasElem <span style="color:#666">===</span> <span style="color:#008000;font-weight:bold">null</span>) {
      <span style="color:#008000;font-weight:bold">return</span>;
    }

    <span style="color:#408080;font-style:italic">// this is really tricky
</span><span style="color:#408080;font-style:italic"></span>    <span style="color:#008000;font-weight:bold">function</span> handleWheel(event: <span style="color:#b00040">WheelEvent</span>) {
      event.preventDefault();
      <span style="color:#008000;font-weight:bold">if</span> (context) {
        <span style="color:#008000;font-weight:bold">const</span> zoom <span style="color:#666">=</span> <span style="color:#666">1</span> <span style="color:#666">-</span> event.deltaY <span style="color:#666">/</span> ZOOM_SENSITIVITY;
        <span style="color:#008000;font-weight:bold">const</span> adjustedOriginDelta <span style="color:#666">=</span> {
          x<span style="color:#666">:</span> (mousePos.x <span style="color:#666">/</span> scale) <span style="color:#666">*</span> (<span style="color:#666">1</span> <span style="color:#666">-</span> <span style="color:#666">1</span> <span style="color:#666">/</span> zoom),
          y<span style="color:#666">:</span> (mousePos.y <span style="color:#666">/</span> scale) <span style="color:#666">*</span> (<span style="color:#666">1</span> <span style="color:#666">-</span> <span style="color:#666">1</span> <span style="color:#666">/</span> zoom)
        };
        <span style="color:#008000;font-weight:bold">const</span> newViewportTopLeft <span style="color:#666">=</span> addPoints(
          viewportTopLeftRef.current,
          adjustedOriginDelta
        );

        context.translate(
          viewportTopLeftRef.current.x,
          viewportTopLeftRef.current.y
        );
        context.scale(zoom, zoom);
        context.translate(<span style="color:#666">-</span>newViewportTopLeft.x, <span style="color:#666">-</span>newViewportTopLeft.y);

        viewportTopLeftRef.current <span style="color:#666">=</span> newViewportTopLeft;
        setScale(scale <span style="color:#666">*</span> zoom);
        setIsReset(<span style="color:#008000;font-weight:bold">false</span>);
      }
    }

    canvasElem.addEventListener(<span style="color:#ba2121">&#34;wheel&#34;</span>, handleWheel);
    <span style="color:#008000;font-weight:bold">return</span> () <span style="color:#666">=&gt;</span> canvasElem.removeEventListener(<span style="color:#ba2121">&#34;wheel&#34;</span>, handleWheel);
  }, [context, mousePos.x, mousePos.y, scale]);

  <span style="color:#008000;font-weight:bold">return</span> (
    &lt;<span style="color:#008000;font-weight:bold">div</span>&gt;
      &lt;<span style="color:#008000;font-weight:bold">button</span> <span style="color:#7d9029">onClick</span><span style="color:#666">=</span>{reset}&gt;Reset&lt;/<span style="color:#008000;font-weight:bold">button</span>&gt;
      &lt;<span style="color:#008000;font-weight:bold">pre</span>&gt;scale<span style="color:#666">:</span> {scale}&lt;/<span style="color:#008000;font-weight:bold">pre</span>&gt;
      &lt;<span style="color:#008000;font-weight:bold">pre</span>&gt;offset<span style="color:#666">:</span> {JSON.stringify(offset)}&lt;/<span style="color:#008000;font-weight:bold">pre</span>&gt;
      &lt;<span style="color:#008000;font-weight:bold">canvas</span>
        <span style="color:#7d9029">id</span><span style="color:#666">=</span><span style="color:#ba2121">&#34;canvas&#34;</span>
        <span style="color:#7d9029">onMouseDown</span><span style="color:#666">=</span>{startPan}
        <span style="color:#7d9029">ref</span><span style="color:#666">=</span>{canvasRef}
        <span style="color:#7d9029">width</span><span style="color:#666">=</span>{props.canvasWidth}
        <span style="color:#7d9029">height</span><span style="color:#666">=</span>{props.canvasHeight}
        <span style="color:#7d9029">style</span><span style="color:#666">=</span>{{
          border<span style="color:#666">:</span> <span style="color:#ba2121">&#34;2px solid #000&#34;</span>
        }}
      &gt;&lt;/<span style="color:#008000;font-weight:bold">canvas</span>&gt;
    &lt;/<span style="color:#008000;font-weight:bold">div</span>&gt;
  );
}
</code></pre></td></tr></table>
</div>
</div>
</div>

    </div>
    
    

<footer>
  <div class="container">
  </div>
</footer>



  </body>
</html>